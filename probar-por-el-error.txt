frontend.routes.js

//----Esto hay que probar

const express = require('express');
const path = require('path');
const passport = require('passport');

const isNotVerifiedFunc = require('../middlewares/verify-jwt');

// Creates the router
const router = express.Router();

// Set the views path
const views = path.join(__dirname, '..', '..', 'views');

// Send the index.html file to the root
router.get('/', passport.authenticate('jwt', {
        successRedirect: '/user/' + ,
        failureRedirect: '/',
        failureFlash: true 
    }),
    (req, res) => {
        res.sendFile(views + '/index.html');
    }
);

// Send the register.html file to the register path
router.get('/register', passport.authenticate('jwt', {
        successRedirect: '/user/' + ,
        failureRedirect: '/register',
        failureFlash: true 
    }), 
    (req, res) => {
        res.sendFile(views + '/register.html');
});

// Send the userpage.html file to the user/uuid path
router.get('/user/:username', passport.authenticate('jwt', { session: false }),
  (req, res) => {
    res.sendFile(views + '/userpage.html');
});

module.exports = router;
